.\" vim:ft=nroff:
.\" This Source Code Form is subject to the terms of the Mozilla Public
.\" License, v. 2.0. If a copy of the MPL was not distributed with this
.\" file, You can obtain one at https://mozilla.org/MPL/2.0/.
.\"
.\" Copyright (c) 2007-2025 Broadcom. All Rights Reserved. The term “Broadcom” refers to Broadcom Inc. and/or its subsidiaries.  All rights reserved.
.\"
.Dd June 22, 2023
.Dt RABBITMQ-ECHOPID.BAT 8
.Os "RabbitMQ Server"
.Sh NAME
.Nm rabbitmq-echopid.bat
.Nd returns the Windows process id of the Erlang runtime running RabbitMQ
.\" ------------------------------------------------------------------
.Sh SYNOPSIS
.\" ------------------------------------------------------------------
.Nm
.Ar sname
.\" ------------------------------------------------------------------
.Sh DESCRIPTION
.\" ------------------------------------------------------------------
RabbitMQ is an open source multi-protocol messaging broker.
.Pp
Running
.Nm
will attempt to discover and echo the process id (PID) of the Erlang
runtime process
.Pq Pa erl.exe
that is hosting RabbitMQ.
To allow
.Pa erl.exe
time to start up and load RabbitMQ, the script will wait for ten seconds
before timing out if a suitable PID cannot be found.
.Pp
If a PID is discovered, the script will echo it to stdout
before exiting with a
.Ev ERRORLEVEL
of 0.
If no PID is discovered before the timeout, nothing is written to stdout
and the script exits setting
.Ev ERRORLEVEL
to 1.
.Pp
Note that this script only exists on Windows due to the need to wait for
.Pa erl.exe
and possibly time-out.
To obtain the PID on Unix set
.Ev RABBITMQ_PID_FILE
before starting
.Xr rabbitmq-server 8
and do not use
.Fl detached .
.\" ------------------------------------------------------------------
.Sh OPTIONS
.\" ------------------------------------------------------------------
.Bl -tag -width Ds
.It Ar sname
The short-name form of the RabbitMQ node name.
.El
.\" ------------------------------------------------------------------
.Sh SEE ALSO
.\" ------------------------------------------------------------------
.Xr rabbitmq-plugins 8 ,
.Xr rabbitmq-server 8 ,
.Xr rabbitmq-service 8 ,
.Xr rabbitmqctl 8
.\" ------------------------------------------------------------------
.Sh AUTHOR
.\" ------------------------------------------------------------------
.An The RabbitMQ Team Aq Mt contact-tanzu-data.pdl@broadcom.com
